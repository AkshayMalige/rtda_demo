[connectivity]
# Define mm2s compute units for input, weights and bias
nk=mm2s_pl:3:mm2s_din,mm2s_weights,mm2s_bias
nk=leaky_relu_pl:1:relu
nk=s2mm_pl:1:s2mm_out

# --- Stream Connections ---
# Data and weights streamed from memory into the AIE graph
stream_connect=mm2s_din.s:ai_engine_0.layer0_in
stream_connect=mm2s_weights.s:ai_engine_0.layer0_weights
stream_connect=mm2s_bias.s:relu.bias_stream

# AIE output passes through LeakyReLU before being written back to memory
stream_connect=ai_engine_0.layer0_out:relu.in_stream
stream_connect=relu.out_stream:s2mm_out.s
