[connectivity]
# Single mm2s kernel with AXI4-Stream switch for input, weights and bias
nk=mm2s_pl:1:mm2s
nk=leaky_relu_pl:1:relu
nk=s2mm_pl:1:s2mm_out
nk=axis_switch:1:mm2s_switch

# --- Stream Connections ---
stream_connect=mm2s.s:mm2s_switch.S00_AXIS
stream_connect=mm2s_switch.M00_AXIS:ai_engine_0.layer0_in
stream_connect=mm2s_switch.M01_AXIS:ai_engine_0.weight_stream
stream_connect=mm2s_switch.M02_AXIS:relu.bias_stream

# AIE output passes through LeakyReLU before being written back to memory
stream_connect=ai_engine_0.layer0_out:relu.in_stream
stream_connect=relu.out_stream:s2mm_out.s
